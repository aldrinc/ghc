# Database
DATABASE_URL=postgresql+psycopg2://app:app@localhost:5433/app

# Clerk (replace with your values)
CLERK_JWT_ISSUER=https://clerk.your-domain.com
CLERK_JWKS_URL=https://clerk.your-domain.com/.well-known/jwks.json
CLERK_AUDIENCE=["http://localhost:5173","backend"]

# Backend / CORS (JSON array)
BACKEND_CORS_ORIGINS=["https://moshq.app","http://127.0.0.1:5173"]

# Temporal
TEMPORAL_NAMESPACE=default
TEMPORAL_TASK_QUEUE=growth-agency
TEMPORAL_ADDRESS=localhost:7234

# Embedded deploy control plane / CDN provisioning
DEPLOY_ROOT_DIR=cloudhand
DEPLOY_PROJECT_ID=mos
DEPLOY_WORKSPACE_ID=default
DEPLOY_PUBLIC_BASE_URL=
DEPLOY_PUBLIC_API_BASE_URL=
DEPLOY_ARTIFACT_RUNTIME_DIST_PATH=mos/frontend/dist
BUNNY_API_KEY=
BUNNY_API_BASE_URL=https://api.bunny.net
BUNNY_PULLZONE_ORIGIN_IP=
NAMECHEAP_API_USER=
NAMECHEAP_API_KEY=
NAMECHEAP_USERNAME=
NAMECHEAP_CLIENT_IP=
NAMECHEAP_API_BASE_URL=https://api.namecheap.com/xml.response

# Public URLs (some funnel/testimonial features require these)
PUBLIC_ASSET_BASE_URL=http://localhost:8008
TESTIMONIAL_RENDERER_IMAGE_MODEL=
NANO_BANANA_MODEL=

# OpenAI / Anthropic / Gemini
OPENAI_API_KEY=sk-...
OPENAI_BASE_URL=
OPENAI_WEBHOOK_SECRET=
ANTHROPIC_API_KEY=
ANTHROPIC_API_BASE_URL=
GEMINI_API_KEY=
AGENTA_ENABLED=false
AGENTA_API_KEY=
AGENTA_HOST=https://cloud.agenta.ai
# JSON object mapping local prompt keys -> Agenta config registry references.
# Required keys when AGENTA_ENABLED=true for current backend prompt loaders:
# - prompts/precanon_research/01_competitor_research.md
# - prompts/precanon_research/01.5_purple_ocean_analyst.md
# - prompts/precanon_research/03_deep_research_prompt.md
# - prompts/precanon_research/04_run_deep_research.md
# - prompts/precanon_research/06_avatar_brief.md
# - prompts/precanon_research/07_offer_brief.md
# - prompts/precanon_research/08_necessary_beliefs_prompt1.md
# - prompts/precanon_research/09_i_believe_statements.md
# - prompts/creative_analysis/ad_breakdown.md
# - prompts/swipe/swipe_to_image_ad.md
# Example:
# AGENTA_PROMPT_REGISTRY={"prompts/creative_analysis/ad_breakdown.md":{"app_slug":"ad-breakdown","environment_slug":"production","parameter_path":"template"}}
AGENTA_PROMPT_REGISTRY={}
LANGFUSE_ENABLED=false
LANGFUSE_PUBLIC_KEY=pk-lf-...
LANGFUSE_SECRET_KEY=sk-lf-...
# For Langfuse Cloud keep this as default. For self-hosted set your own host/base URL.
LANGFUSE_HOST=https://cloud.langfuse.com
LANGFUSE_BASE_URL=
LANGFUSE_ENVIRONMENT=development
LANGFUSE_RELEASE=
LANGFUSE_SAMPLE_RATE=1.0
LANGFUSE_DEBUG=false
LANGFUSE_TIMEOUT_SECONDS=20
LLM_DEFAULT_MODEL=gpt-5.2-2025-12-11
LLM_REQUEST_TIMEOUT=120
LLM_REQUEST_RETRIES=2
LLM_POLL_INTERVAL_SECONDS=15
LLM_POLL_TIMEOUT_SECONDS=1200
DEEP_RESEARCH_POLL_TIMEOUT_SECONDS=21600
O3_DEEP_RESEARCH_MAX_OUTPUT_TOKENS=64000
PRECANON_STEP01_MODEL=
PRECANON_STEP03_MODEL=
PRECANON_STEP04_MODEL=o3-deep-research-2025-06-26
PRECANON_STEP04_MAX_TOKENS=64000
PRECANON_STEP04_START_TO_CLOSE_MINUTES=360
PRECANON_STEP04_SCHEDULE_TO_CLOSE_MINUTES=420
PRECANON_STEP06_MODEL=
PRECANON_STEP07_MODEL=
PRECANON_STEP08_MODEL=
PRECANON_STEP09_MODEL=
CLAUDE_DEFAULT_MODEL=claude-3-5-sonnet
CLAUDE_FALLBACK_MODEL=claude-3-haiku
CLAUDE_EXPERIMENT_MODEL=
CLAUDE_ASSET_BRIEF_MODEL=
CLAUDE_STRUCTURED_MAX_TOKENS=4096
AD_BREAKDOWN_MODEL=gemini-2.5-flash
AD_BREAKDOWN_MAX_OUTPUT_TOKENS=24000
AD_BREAKDOWN_INLINE_MAX_BYTES=18874368
AD_BREAKDOWN_DOWNLOAD_TIMEOUT=30
AD_BREAKDOWN_VIDEO_CLIP_SECONDS=60
AD_BREAKDOWN_VIDEO_FPS=2

# Hetzner / S3-compatible media storage (required for product uploads)
MEDIA_STORAGE_BUCKET=
MEDIA_STORAGE_PREVIEW_BUCKET=
MEDIA_STORAGE_ENDPOINT=
MEDIA_STORAGE_REGION=us-east-1
MEDIA_STORAGE_ACCESS_KEY=
MEDIA_STORAGE_SECRET_KEY=
MEDIA_STORAGE_PREFIX=dev
MEDIA_STORAGE_PRESIGN_TTL_SECONDS=900
MEDIA_STORAGE_USE_SSL=true
MEDIA_STORAGE_FORCE_PATH_STYLE=true

# Media mirror tuning (optional)
MEDIA_MIRROR_MAX_BYTES=52428800
MEDIA_MIRROR_TIMEOUT_SECONDS=15
MEDIA_MIRROR_MAX_CONCURRENCY=3
MEDIA_MIRROR_PREVIEW_MAX_DIMENSION=512

# Funnel rendering toggles (optional)
GEMINI_IMAGE_REFERENCES_ENABLED=

# Google credentials (service account preferred)
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service_account.json
# Or set inline service account fields
GOOGLE_CLIENT_EMAIL=
GOOGLE_PRIVATE_KEY=
# Or OAuth client + refresh token
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REFRESH_TOKEN=
RESEARCH_DRIVE_PARENT_FOLDER_ID=
PARENT_FOLDER_ID=

# Ads ingestion / Apify
APIFY_API_TOKEN=
APIFY_META_ACTOR_ID=curious_coder~facebook-ads-library-scraper
APIFY_META_ACTIVE_STATUS=active
APIFY_META_COUNTRY_CODE=ALL
APIFY_META_TOTALS_ACTOR_ID=apify~facebook-ads-scraper
ADS_META_TOTALS_QUERY_KEY=meta_active_total
ADS_META_TOTALS_ACTIVE_STATUS=active
ADS_META_TOTALS_RESULTS_LIMIT=1
ADS_META_TOTALS_INCLUDE_ABOUT_PAGE=true
ADS_META_TOTALS_MAX_WAIT_SECONDS=900
ADS_CONTEXT_SELECT_MAX_TOTAL_ADS=40
ADS_CONTEXT_SELECT_MAX_ADS_PER_BRAND=3
ADS_CONTEXT_SELECT_MAX_BRANDS=25
ADS_CONTEXT_SELECT_ACTIVE_ONLY=true
ADS_CONTEXT_SELECT_MIN_DAYS_ACTIVE=7
ADS_CONTEXT_SELECT_DISPLAY_FORMATS=image,video
ADS_CONTEXT_SELECT_LANGUAGE_CODES=EN
ADS_CONTEXT_SELECT_LANGUAGE_STRICT=false
ADS_CONTEXT_MAX_MEDIA_ASSETS=2
ADS_CONTEXT_MAX_BREAKDOWN_ADS=8
ADS_CONTEXT_MAX_HIGHLIGHT_ADS=5
ADS_CONTEXT_MAX_ADS_PER_BRAND=3
ADS_CONTEXT_PRIMARY_TEXT_LIMIT=320
ADS_CONTEXT_HEADLINE_LIMIT=160

# Stripe (optional)
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# Shopify checkout bridge (optional)
SHOPIFY_APP_BASE_URL=
SHOPIFY_INTERNAL_API_TOKEN=
SHOPIFY_ORDER_WEBHOOK_SECRET=

# Meta pipeline (optional)
META_GRAPH_API_VERSION=
META_GRAPH_API_BASE_URL=https://graph.facebook.com
META_ACCESS_TOKEN=
META_AD_ACCOUNT_ID=
META_PAGE_ID=
META_INSTAGRAM_ACTOR_ID=

# External creative service (required for creative production)
CREATIVE_SERVICE_BASE_URL=
CREATIVE_SERVICE_BEARER_TOKEN=
CREATIVE_SERVICE_TIMEOUT_SECONDS=30
CREATIVE_SERVICE_POLL_INTERVAL_SECONDS=2
CREATIVE_SERVICE_POLL_TIMEOUT_SECONDS=300
CREATIVE_SERVICE_MAX_VIDEO_TURNS=3
CREATIVE_SERVICE_ASSETS_PER_BRIEF=6
CREATIVE_SERVICE_RETENTION_DAYS=60
CREATIVE_SERVICE_PRODUCT_ASSET_CONTEXT_LIMIT=6
