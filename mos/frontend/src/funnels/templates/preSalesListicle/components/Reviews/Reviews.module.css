.section {
  padding: var(--reviews-pad-y) 0;
  /* Ensure the carousel never visually crowds/overlaps the full-width marquee band below. */
  padding-bottom: calc(var(--reviews-pad-y) + var(--space-6));
}

.carousel {
  position: relative;
}

.grid {
  display: grid;
  grid-template-columns: var(--reviews-card-width) 1fr;
  gap: var(--reviews-gap);
  align-items: stretch;
}

.enterNext {
  animation: reviewsEnterNext 420ms ease both;
}

.enterPrev {
  animation: reviewsEnterPrev 420ms ease both;
}

@keyframes reviewsEnterNext {
  from {
    opacity: 0;
    transform: translateX(18px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes reviewsEnterPrev {
  from {
    opacity: 0;
    transform: translateX(-18px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.card {
  position: relative;
  height: var(--reviews-height);
  border-radius: var(--reviews-card-radius);
  background: var(--reviews-card-bg);
  padding: var(--reviews-card-pad);
  display: grid;
  grid-template-rows: auto auto 1fr auto;
}

.quote {
  position: absolute;
  top: var(--reviews-quote-top);
  left: var(--reviews-quote-left);
  font-family: var(--font-heading);
  font-size: var(--reviews-quote-size);
  line-height: 1;
  color: var(--reviews-quote-color);
}

.stars {
  margin-top: var(--reviews-stars-top);
  display: flex;
  gap: 6px;
}

.star {
  font-size: var(--reviews-star-size);
  line-height: 1;
  color: var(--reviews-star-color);
}

.text {
  margin: var(--space-5) 0 0;
  font-size: var(--reviews-text-size);
  line-height: var(--reviews-text-line);
  color: var(--reviews-text-color);
  max-width: 28ch;
}

.authorRow {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  margin-top: var(--space-5);
  align-self: end;
  justify-self: start;
  color: var(--reviews-author-color);
  font-weight: 700;
}

.verified {
  width: 18px;
  height: 18px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: var(--reviews-verified-bg);
  border: var(--reviews-verified-border);
}

.verifiedIcon {
  width: 12px;
  height: 12px;
  color: var(--reviews-verified-color);
}

.media {
  height: var(--reviews-height);
  display: grid;
  grid-template-columns: 1fr var(--reviews-media-slim-width) var(--reviews-media-slim-width);
  gap: var(--reviews-media-gap);
}

.mediaMain,
.mediaSlim {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
  border-radius: var(--reviews-media-radius);
  background: var(--reviews-media-placeholder-bg);
}

.mediaPlaceholder {
  width: 100%;
  height: 100%;
  border-radius: var(--reviews-media-radius);
  background: var(--reviews-media-placeholder-bg);
}

.nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 2;
  width: var(--reviews-nav-size);
  height: var(--reviews-nav-size);
  border-radius: 999px;
  border: var(--reviews-nav-border);
  background: var(--reviews-nav-bg);
  box-shadow: var(--reviews-nav-shadow);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.navIcon {
  width: 18px;
  height: 18px;
  color: var(--reviews-nav-color);
}

.prev {
  left: calc(var(--reviews-nav-offset) * -1);
}

.prev .navIcon {
  transform: rotate(180deg);
}

.next {
  right: calc(var(--reviews-nav-offset) * -1);
}

.dots {
  margin-top: var(--reviews-dots-top);
  display: flex;
  gap: var(--reviews-dot-gap);
  justify-content: center;
  width: var(--reviews-card-width);
}

.dot {
  width: var(--reviews-dot-size);
  height: var(--reviews-dot-size);
  border-radius: 999px;
  border: 0;
  background: var(--reviews-dot-bg);
  cursor: pointer;
  padding: 0;
}

.dotActive {
  width: var(--reviews-dot-active-width);
  background: var(--reviews-dot-active-bg);
}

@media (prefers-reduced-motion: reduce) {
  .enterNext,
  .enterPrev {
    animation: none;
  }
}

@media (max-width: 980px) {
  .grid {
    grid-template-columns: 1fr;
  }

  .dots {
    width: 100%;
  }

  .prev {
    left: 8px;
  }

  .next {
    right: 8px;
  }

  .media {
    grid-template-columns: 1fr 1fr;
    grid-auto-rows: calc(var(--reviews-height) * 0.6);
    height: auto;
  }

  .mediaMain {
    grid-column: 1 / -1;
  }

  .card {
    height: auto;
    min-height: 380px;
  }
}
