# Production environment variables (Docker Compose deploy)
#
# Copy this file to `.env.production` and fill in real values.
# Do NOT commit `.env.production` (it is gitignored).
#
# Notes:
# - Values are intentionally blank for secrets and environment-specific URLs.
# - Some settings accept either JSON (e.g. `["a","b"]`) or comma-separated strings (`a,b`).
#

# ----------------------------
# Frontend (Vite build-time args)
# ----------------------------
#
# Only used when building the frontend image (see `mos/frontend/Dockerfile`).
#
VITE_API_BASE_URL=
VITE_CLERK_PUBLISHABLE_KEY=
VITE_CLERK_JWT_TEMPLATE=backend
VITE_DEPLOY_PLAN_PATH=
VITE_DEPLOY_INSTANCE_NAME=
VITE_DEPLOY_UPSTREAM_BASE_URL=
VITE_DEPLOY_UPSTREAM_API_BASE_URL=
VITE_DEPLOY_DESTINATION_PATH=/opt/apps
VITE_DEPLOY_BUNNY_PULLZONE_ORIGIN_IP=


# ----------------------------
# Core (Required)
# ----------------------------

DATABASE_URL=

# Clerk (Required, JSON array for audience)
CLERK_JWT_ISSUER=
CLERK_JWKS_URL=
CLERK_AUDIENCE=["backend"]

# API / CORS (Required for browser clients, JSON array)
BACKEND_CORS_ORIGINS=["https://moshq.app","http://127.0.0.1:5173"]


# ----------------------------
# Temporal (Required for worker; backend uses it for workflows)
# ----------------------------

TEMPORAL_ADDRESS=
TEMPORAL_NAMESPACE=default
TEMPORAL_TASK_QUEUE=growth-agency


# ----------------------------
# Deploy / CDN / DNS (Required for funnel publish + Bunny + Namecheap automation)
# ----------------------------

DEPLOY_ROOT_DIR=cloudhand
DEPLOY_PROJECT_ID=mos
DEPLOY_WORKSPACE_ID=default
DEPLOY_PUBLIC_BASE_URL=
DEPLOY_PUBLIC_API_BASE_URL=
DEPLOY_ARTIFACT_RUNTIME_DIST_PATH=mos/frontend/dist
BUNNY_API_KEY=
BUNNY_API_BASE_URL=https://api.bunny.net
BUNNY_PULLZONE_ORIGIN_IP=
NAMECHEAP_API_USER=
NAMECHEAP_API_KEY=
NAMECHEAP_USERNAME=
NAMECHEAP_CLIENT_IP=
NAMECHEAP_API_BASE_URL=https://api.namecheap.com/xml.response


# ----------------------------
# Media Storage (Required for product uploads and asset serving)
# ----------------------------

MEDIA_STORAGE_BUCKET=
MEDIA_STORAGE_ENDPOINT=
MEDIA_STORAGE_ACCESS_KEY=
MEDIA_STORAGE_SECRET_KEY=

# Optional tuning / compatibility
MEDIA_STORAGE_REGION=us-east-1
MEDIA_STORAGE_PREFIX=prod
MEDIA_STORAGE_USE_SSL=true
MEDIA_STORAGE_FORCE_PATH_STYLE=true
MEDIA_STORAGE_PRESIGN_TTL_SECONDS=900
MEDIA_STORAGE_PREVIEW_BUCKET=


# ----------------------------
# Public URLs (Required for some funnel/testimonial features)
# ----------------------------

PUBLIC_ASSET_BASE_URL=
TESTIMONIAL_RENDERER_URL=
TESTIMONIAL_RENDERER_IMAGE_MODEL=


# ----------------------------
# OpenAI (Optional unless using deep research / OpenAI features)
# ----------------------------

OPENAI_API_KEY=
OPENAI_WEBHOOK_SECRET=
OPENAI_BASE_URL=


# ----------------------------
# Anthropic / Claude (Optional unless using Claude features)
# ----------------------------

ANTHROPIC_API_KEY=
ANTHROPIC_API_BASE_URL=
ANTHROPIC_BASE_URL=
ANTHROPIC_HTTP_TIMEOUT=300

CLAUDE_DEFAULT_MODEL=
CLAUDE_FALLBACK_MODEL=
CLAUDE_EXPERIMENT_MODEL=
CLAUDE_ASSET_BRIEF_MODEL=
CLAUDE_STRATEGY_MODEL=
CLAUDE_STRUCTURED_MAX_TOKENS=4096


# ----------------------------
# Gemini / Google (Optional unless using Gemini/Google integrations)
# ----------------------------

GEMINI_API_KEY=
GOOGLE_API_KEY=
GEMINI_IMAGE_REFERENCES_ENABLED=

GOOGLE_APPLICATION_CREDENTIALS=
GOOGLE_CLIENT_EMAIL=
GOOGLE_PRIVATE_KEY=
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REFRESH_TOKEN=

PARENT_FOLDER_ID=
RESEARCH_DRIVE_PARENT_FOLDER_ID=


# ----------------------------
# LLM Runtime (Optional; tune if using LLM workflows)
# ----------------------------

LLM_DEFAULT_MODEL=
LLM_REQUEST_TIMEOUT=120
LLM_REQUEST_RETRIES=2
LLM_POLL_INTERVAL_SECONDS=15
LLM_POLL_TIMEOUT_SECONDS=3600
DEEP_RESEARCH_POLL_TIMEOUT_SECONDS=21600
O3_DEEP_RESEARCH_MAX_OUTPUT_TOKENS=64000


# ----------------------------
# Precanon Workflow (Optional)
# ----------------------------

PRECANON_REASONING_MODEL=
PRECANON_STEP01_MODEL=
PRECANON_STEP015_MODEL=
PRECANON_STEP03_MODEL=
PRECANON_STEP04_MODEL=o3-deep-research-2025-06-26
PRECANON_STEP04_MAX_TOKENS=64000
PRECANON_STEP04_START_TO_CLOSE_MINUTES=360
PRECANON_STEP04_SCHEDULE_TO_CLOSE_MINUTES=420
PRECANON_STEP06_MODEL=
PRECANON_STEP07_MODEL=
PRECANON_STEP08_MODEL=
PRECANON_STEP09_MODEL=


# ----------------------------
# Ads Ingestion / Apify (Optional)
# ----------------------------

APIFY_API_TOKEN=
APIFY_API_URL=https://api.apify.com/v2
APIFY_META_ACTOR_ID=curious_coder~facebook-ads-library-scraper
APIFY_META_ACTIVE_STATUS=active
APIFY_META_COUNTRY_CODE=ALL
APIFY_META_LIMIT_PER_SOURCE=50

ADS_CONTEXT_MAX_MEDIA_ASSETS=2
ADS_CONTEXT_MAX_BREAKDOWN_ADS=8
ADS_CONTEXT_MAX_HIGHLIGHT_ADS=5
ADS_CONTEXT_MAX_ADS_PER_BRAND=3
ADS_CONTEXT_PRIMARY_TEXT_LIMIT=320
ADS_CONTEXT_HEADLINE_LIMIT=160

ADS_INGEST_START_TO_CLOSE_HOURS=6
ADS_INGEST_SCHEDULE_TO_CLOSE_HOURS=6


# ----------------------------
# Ad Breakdown (Optional)
# ----------------------------

AD_BREAKDOWN_MODEL=gemini-2.5-flash
AD_BREAKDOWN_MAX_OUTPUT_TOKENS=24000
AD_BREAKDOWN_INLINE_MAX_BYTES=18874368
AD_BREAKDOWN_DOWNLOAD_TIMEOUT=30
AD_BREAKDOWN_VIDEO_CLIP_SECONDS=60
AD_BREAKDOWN_VIDEO_FPS=2


# ----------------------------
# Funnel AI Attachments (Optional)
# ----------------------------

AI_ATTACHMENT_MAX_COUNT=8
AI_ATTACHMENT_MAX_BYTES=12582912


# ----------------------------
# Unsplash (Optional)
# ----------------------------

UNSPLASH_APP_ID=
UNSPLASH_ACCESS_KEY=
UNSPLASH_SECRET_KEY=


# ----------------------------
# Stripe (Optional unless using Stripe pricing/webhooks)
# ----------------------------

STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=


# ----------------------------
# Shopify checkout bridge (Optional unless using Shopify connection/product mapping/checkout)
# ----------------------------
#
# mos/backend talks to the bridge service (shopify-funnel-app) using these values.
# SHOPIFY_INTERNAL_API_TOKEN must exactly match the bridge token configured on shopify-funnel-app.
# The base URL should be reachable by both browser and backend runtime.
#
SHOPIFY_APP_BASE_URL=
SHOPIFY_INTERNAL_API_TOKEN=
SHOPIFY_ORDER_WEBHOOK_SECRET=


# ----------------------------
# Meta (Optional unless using Meta pipeline)
# ----------------------------

META_GRAPH_API_VERSION=
META_GRAPH_API_BASE_URL=https://graph.facebook.com
META_ACCESS_TOKEN=
META_AD_ACCOUNT_ID=
META_PAGE_ID=
META_INSTAGRAM_ACTOR_ID=
