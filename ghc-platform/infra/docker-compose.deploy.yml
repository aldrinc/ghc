services:
  backend:
    image: ${IMAGE_REGISTRY:-ghcr.io/aldrinc}/ghc-backend:${IMAGE_TAG:-latest}
    env_file:
      - ../../.env.production
    ports:
      - "8000:8000"
    restart: unless-stopped

  worker:
    image: ${IMAGE_REGISTRY:-ghcr.io/aldrinc}/ghc-backend:${IMAGE_TAG:-latest}
    env_file:
      - ../../.env.production
    command: ["python", "-m", "app.temporal.worker"]
    restart: unless-stopped

  frontend:
    image: ${IMAGE_REGISTRY:-ghcr.io/aldrinc}/ghc-frontend:${IMAGE_TAG:-latest}
    ports:
      - "8080:80"
    restart: unless-stopped
